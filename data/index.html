<!DOCTYPE html>
<html>
  <head>
    <title>Curiosity Rover</title>
    <meta name="viewport" content="width=device-width" />
    <meta charset="UTF-8">
    <link href="style.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <div class="flex-container">
      <div class="telemetry">
        <h3 class="telemetry-item">VOLTS: <span id="supply-voltage">--</span>v</h3>
        <div class="telemetry-item"><span id="connection-status">‚ùå</span></div>
      </div>
      <div id="button-row">
        <div class="dropbtn">
          <a href="#move">MOVE</a>
        </div>
        <div class="dropbtn">
          <a href="#spin"><span>SPIN</span></a>
        </div>
        <div class="dropdown">
          <button onclick="calMenuToggle()" id="calbtn" class="dropbtn">CAL.</button>
          <div id="myDropdown" class="dropdown-content">
            <a href="#leftfrontcalibrate">LEFT FRONT</a>
            <a href="#rightfrontcalibrate">RIGHT FRONT</a>
            <a href="#leftrearcalibrate">LEFT REAR</a>
            <a href="#rightrearcalibrate">RIGHT REAR</a>
          </div>
        </div>
      </div>
      <div id="joystick-container">
        <div id="zone_joystick"></div>
      </div>
    </div>
    <script type="text/javascript" src="./nipplejs.js"></script>
    <script type="text/javascript">
      var options = {
        zone: document.getElementById("zone_joystick"),
        follow: true,
        size: 300,
        color: "salmon",
      };
      var manager = nipplejs.create(options);
    </script>
    <script src="script.js" type="text/javascript"></script>
    <script>
      /* When the user clicks on the button, toggle between hiding and showing the dropdown content */
      function calMenuToggle() {
        document.getElementById("myDropdown").classList.toggle("show");
      }

      // Close the dropdown if the user clicks outside of it
      window.onclick = function (event) {
        if (!event.target.matches(".dropbtn")) {
          var dropdowns = document.getElementsByClassName("dropdown-content");
          var i;
          for (i = 0; i < dropdowns.length; i++) {
            var openDropdown = dropdowns[i];
            if (openDropdown.classList.contains("show")) {
              openDropdown.classList.remove("show");
            }
          }
        }
      };
    </script>
  </body>
</html>
